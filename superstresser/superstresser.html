<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stressjock's Codex // Comic Viewer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap">

    <style>
        /* Apply Inter font universally and set dark background (from index.html) */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d0d10; /* Very deep space gray */
            color: #f1f5f9; /* Light text */
        }

        /* Cinematic Button Styling (from index.html) */
        .cinematic-btn {
            background-color: #06b6d4; /* Vibrant accent color (Sky Blue) */
            color: #000;
            font-weight: 600;
            transition: background-color 0.3s, transform 0.1s;
        }
        .cinematic-btn:hover {
            background-color: #38bdf8;
            transform: scale(1.02);
        }

        /* Custom Styles for the Viewer */
        .main-panel-container {
            /* Set a maximum width based on the panel size (1010px) but allow flexibility */
            max-width: 1040px; 
            margin: 0 auto;
            /* Add cinematic glow/border effect */
            box-shadow: 0 0 20px rgba(6, 182, 212, 0.4);
            border: 2px solid #06b6d4;
            background-color: #1a1a20; /* Darker background for the frame */
        }

        .comic-panel {
            width: 100%;
            /* Maintain the aspect ratio of 1010x531 (531 / 1010 * 100 ≈ 52.57%) */
            aspect-ratio: 1010 / 531; 
            object-fit: contain; /* Ensure the image fits within the container without distortion */
            transition: opacity 0.3s ease-in-out;
        }
        
        /* Styles for the Thumbnail strip */
        .thumbnail-strip {
            /* Enable horizontal scrolling and hide the default scrollbar */
            overflow-x: auto;
            white-space: nowrap;
            padding: 1rem 0;
            -ms-overflow-style: none; /* IE and Edge */
            scrollbar-width: none; /* Firefox */
        }
        .thumbnail-strip::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }

        .thumbnail {
            display: inline-block;
            width: 150px; /* Fixed width for thumbnails */
            height: 79px; /* Height to maintain 1010x531 aspect ratio (531/1010 * 150 ≈ 79) */
            object-fit: cover;
            cursor: pointer;
            border: 3px solid transparent;
            margin-right: 12px;
            transition: border-color 0.2s, transform 0.1s;
            opacity: 0.6;
        }

        .thumbnail:hover {
            opacity: 0.8;
            transform: scale(1.05);
        }

        .thumbnail.active {
            border-color: #06b6d4; /* Highlight active panel */
            opacity: 1;
            transform: scale(1.05);
        }

    </style>
</head>
<body>

    <main class="py-12 px-4">
        <header class="text-center mb-10">
            <h1 class="text-5xl font-extrabold tracking-tight text-sky-400 mb-2 uppercase">
                The Codex of Super Stresser
            </h1>
            <p class="text-xl text-gray-300 font-light">
                Viewer System Activated
            </p>
        </header>

        <div class="main-panel-container mb-8">
            <img id="main-comic-panel" class="comic-panel" src="" alt="Current Comic Panel">
        </div>

        <div class="flex flex-col items-center max-w-6xl mx-auto">
            
            <div class="flex space-x-4 mb-8">
                <button id="prev-btn" class="cinematic-btn px-6 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed">
                    &lt; Previous Panel
                </button>
                <button id="next-btn" class="cinematic-btn px-6 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed">
                    Next Panel &gt;
                </button>
            </div>

            <div class="w-full max-w-6xl">
                <h3 class="text-xl font-semibold mb-4 text-gray-300">Panel Archive:</h3>
                <div id="thumbnail-strip" class="thumbnail-strip bg-gray-900/50 rounded-lg p-2">
                    </div>
            </div>
            
        </div>
        
    </main>

    <footer class="text-center py-8 text-gray-400 border-t border-gray-800/50 mt-12">
        <p>&copy; 2025 Stressjock. All Rights Reserved. Viewer System.</p>
        <div class="mt-2 flex justify-center space-x-4">
            <a href="index.html" class="text-sky-400 hover:text-sky-300 transition duration-300">Back to Portfolio</a>
        </div>
    </footer>

    <script>
        // --- DATA SECTION ---
        // List your panel image filenames here. They must be in the 'assets' folder
        // and be 1010x531 resolution.
        const panelFiles = [
            "SS0.png", // Start with panel-01
            "SS1a.png",
            "SS2.png",
            "SS3.png",
            "SS4.png",
            // Add more panels as needed... e.g., "panel-06.png", "panel-07.png", etc.
        ];
        
        // Construct the full paths to the image assets
        const panels = panelFiles.map(file => `./assets/${file}`);

        let currentPanelIndex = 0;

        // --- DOM ELEMENTS ---
        const mainPanel = document.getElementById('main-comic-panel');
        const thumbnailStrip = document.getElementById('thumbnail-strip');
        const nextBtn = document.getElementById('next-btn');
        const prevBtn = document.getElementById('prev-btn');

        // --- JAVASCRIPT LOGIC ---

        /**
         * Renders the current panel in the main view and updates controls/thumbnails.
         */
        function renderPanel() {
            // 1. Update the main image source
            mainPanel.src = panels[currentPanelIndex];

            // 2. Update controls (Enable/Disable buttons)
            prevBtn.disabled = currentPanelIndex === 0;
            nextBtn.disabled = currentPanelIndex === panels.length - 1;

            // 3. Update thumbnail active state and scroll
            document.querySelectorAll('.thumbnail').forEach((thumb, index) => {
                thumb.classList.toggle('active', index === currentPanelIndex);
                // Scroll the active thumbnail into view
                if (index === currentPanelIndex) {
                    thumb.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                }
            });
            
            // 4. Update the panel number in the title for reference
            document.title = `Stressjock's Codex // Panel ${currentPanelIndex + 1}`;
        }

        /**
         * Generates and inserts all thumbnail elements into the strip.
         */
        function renderThumbnails() {
            thumbnailStrip.innerHTML = ''; // Clear existing content

            panels.forEach((panelSrc, index) => {
                const thumbnail = document.createElement('img');
                thumbnail.src = panelSrc;
                thumbnail.alt = `Panel ${index + 1}`;
                thumbnail.classList.add('thumbnail', 'rounded');
                thumbnail.dataset.index = index;

                // Add click listener to switch to that panel
                thumbnail.addEventListener('click', () => {
                    currentPanelIndex = index;
                    renderPanel();
                });

                thumbnailStrip.appendChild(thumbnail);
            });
        }

        /**
         * Event Listeners for navigation buttons.
         */
        function setupEventListeners() {
            nextBtn.addEventListener('click', () => {
                if (currentPanelIndex < panels.length - 1) {
                    currentPanelIndex++;
                    renderPanel();
                }
            });

            prevBtn.addEventListener('click', () => {
                if (currentPanelIndex > 0) {
                    currentPanelIndex--;
                    renderPanel();
                }
            });
            
            // Optional: Keyboard navigation
            document.addEventListener('keydown', (event) => {
                if (event.key === 'ArrowRight' && !nextBtn.disabled) {
                    nextBtn.click();
                } else if (event.key === 'ArrowLeft' && !prevBtn.disabled) {
                    prevBtn.click();
                }
            });
        }

        // --- INITIALIZATION ---
        window.onload = function() {
            if (panels.length > 0) {
                renderThumbnails();
                setupEventListeners();
                // Load the first panel on startup
                renderPanel(); 
            } else {
                mainPanel.alt = "No panels found. Please check your 'panelFiles' array in the script.";
            }
        };
        
    </script>
</body>

</html>
